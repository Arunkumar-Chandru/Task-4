import java.io.*;
import java.util.Scanner;

public class NotesApp {
    public static void main(String[] args) {
        Scanner sc=new Scanner(System.in);
        String fileName="notes.txt";
        int choice;
        System.out.println(" NOTES APP ");
        System.out.println("1. Write a note");
        System.out.println("2. View notes");
        System.out.println("3. Clear notes");
        System.out.println("4. Exit");
        do {
            System.out.println();
            System.out.print("Enter your choice:");
            choice=sc.nextInt();
            sc.nextLine();
            switch(choice){
                case 1 -> {
                    System.out.print("Enter your note: ");
                    String note=sc.nextLine();
                    try(FileWriter writer=new FileWriter(fileName,true)){
                        writer.write(note+System.lineSeparator());
                        System.out.println("Note saved successfully.");
                    } catch(IOException e){
                        System.out.println("Error writing note:"+e.getMessage());
                    }
                }
                case 2 -> {
                    System.out.println(" Your Notes ");
                    try(BufferedReader reader=new BufferedReader(new FileReader(fileName))){
                        String line;
                        while((line=reader.readLine())!=null){
                            System.out.println(line);
                        }
                    } catch(FileNotFoundException e){
                        System.out.println("No notes found. Write a note first!");
                    } catch (IOException e) {
                        System.out.println("Error reading notes:"+e.getMessage());
                    }
                }
                case 3 -> {
                    try (FileWriter writer=new FileWriter(fileName)){ 
                        System.out.println("All notes cleared successfully.");
                    } catch(IOException e){
                        System.out.println("Error clearing notes:"+e.getMessage());
                    }
                }
                case 4 -> System.out.println("Exiting...");
                default -> System.out.println("Invalid choice.");
            }
        } while(choice!=4);
        sc.close();
    }
}
